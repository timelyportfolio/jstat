<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <script src="./src/core.js"></script>
        <script src="./src/distribution.js"></script>
        <script src="./src/special.js"></script>
        <script src="./src/vector.js"></script>
        <script src="./build/d3.v3.js"></script>
        <script src="./build/qq.js"></script>
        <title>jStat</title>
    </head>
    <body>
        <div id="qqplot">
        </div>
        <script>
          var width = 270,
              height = 270,
              margin = { top: 20, right: 10, bottom: 20, left: 35 }

          var chart = d3.qq()
              .width(width)
              .height(height);

          var qq_g = d3.select("#qqplot").append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
              .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

          //make some data with jstat
          var x = d3.range(1000).map(function (d) {
            return (jStat.normal.sample(0, 1))
          });
          var y = d3.range(1000).map(function (d) {
            return (jStat.normal.sample(0, 1))
          });

          //x = x.sort(d3.ascending);

          var data = [{ x: x, y: y}];

          //chart.domain([-3, 3]);
          chart.domain([Math.round(d3.min([d3.min(data[0].x), d3.min(data[0].y)])), Math.round(d3.max([d3.max(data[0].x), d3.max(data[0].y)]))]);

          qq_g
            .data(data);

          qq_g.call(chart);

        </script>
    </body>
</html>
